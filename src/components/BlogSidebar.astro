---
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const { currentSlug } = Astro.props;
---

<aside
    class="hidden lg:block w-[300px] shrink-0 border-r border-zinc-100 pr-8 h-[calc(100vh-100px)] sticky top-[100px] overflow-y-auto"
>
    <h3 class="font-bold text-zinc-900 text-lg mb-4">More Articles</h3>
    <ul class="space-y-3">
        {
            posts.map((post) => (
                <li>
                    <a
                        href={`/blog/${post.slug}/`}
                        class={`block text-[15px] leading-snug transition-colors duration-200 ${
                            currentSlug === post.slug
                                ? "text-black font-semibold"
                                : "text-zinc-500 hover:text-black"
                        }`}
                    >
                        {post.data.title}
                    </a>
                </li>
            ))
        }
    </ul>
</aside>
